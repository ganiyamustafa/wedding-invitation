<!doctype html>
<html lang="en" class="scroll-smooth" style="height: auto; min-height: 100%;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mustahadi Agum & Tree vagianti - Wedding Invitation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&amp;family=Montserrat:wght@300;400;500;600&amp;family=Great+Vibes&amp;display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'wedding-cream': '#F9F7F2',
                        'wedding-blush': '#F4E1E1',
                        'wedding-gold': '#D4AF37',
                        'wedding-text': '#4A4A4A',
                        'wedding-accent': '#8E7F7F',
                    },
                    fontFamily: {
                        serif: ['"Cormorant Garamond"', 'serif'],
                        sans: ['"Montserrat"', 'sans-serif'],
                        script: ['"Great Vibes"', 'cursive'],
                    },
                    backgroundImage: {
                        'floral-pattern': "url('https://images.unsplash.com/photo-1526047932273-341f2a7631f9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80')",
                    }
                }
            }
        }
    </script>
</head>

<style>
    #galleryScroll {
        max-height: 1200px;
        overflow-y: auto;
        /* Remove or don't add overscroll-behavior */
    }
    
    @media (min-width: 768px) {
        #galleryScroll {
            max-height: 800px;
        }
    }
</style>

<body class="bg-wedding-cream text-wedding-text font-sans antialiased overflow-x-hidden"
    style="height: auto; min-height: 100%;">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 transition-all duration-300 bg-white/90 backdrop-blur-md shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 md:h-20">
                <div class="flex-shrink-0 flex items-center">
                    <span class="font-script text-2xl md:text-3xl text-wedding-gold">M &amp; T</span>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#home"
                        class="text-wedding-text hover:text-wedding-gold transition-colors font-medium text-sm tracking-widest uppercase">Home</a>
                    <a href="#story"
                        class="text-wedding-text hover:text-wedding-gold transition-colors font-medium text-sm tracking-widest uppercase">Story</a>
                    <a href="#details"
                        class="text-wedding-text hover:text-wedding-gold transition-colors font-medium text-sm tracking-widest uppercase">Details</a>
                    <a href="#gallery"
                        class="text-wedding-text hover:text-wedding-gold transition-colors font-medium text-sm tracking-widest uppercase">Gallery</a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" onclick="toggleMobileMenu()"
                        class="text-wedding-text hover:text-wedding-gold focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden bg-white border-t border-gray-100 absolute w-full shadow-lg hidden">
            <div class="px-4 pt-2 pb-6 space-y-2 flex flex-col items-center">
                <a href="#home" onclick="toggleMobileMenu()"
                    class="block px-3 py-3 text-wedding-text hover:text-wedding-gold font-medium tracking-widest uppercase text-sm">Home</a>
                <a href="#story" onclick="toggleMobileMenu()"
                    class="block px-3 py-3 text-wedding-text hover:text-wedding-gold font-medium tracking-widest uppercase text-sm">Story</a>
                <a href="#details" onclick="toggleMobileMenu()"
                    class="block px-3 py-3 text-wedding-text hover:text-wedding-gold font-medium tracking-widest uppercase text-sm">Details</a>
                <a href="#gallery" onclick="toggleMobileMenu()"
                    class="block px-3 py-3 text-wedding-text hover:text-wedding-gold font-medium tracking-widest uppercase text-sm">Gallery</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home"
        class="relative min-h-[85vh] md:min-h-[90vh] flex items-center justify-center overflow-hidden pt-16 md:pt-20">
        <!-- Background Image with Overlay -->
        <div class="absolute inset-0 z-0">
            <img src="https://drive.google.com/thumbnail?id=1_JcG0xdyXEqaLbyGy1UJJbaT7zie-uNT&sz=w2000"
                alt="Wedding Background" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-white/60 backdrop-blur-[2px]"></div>
        </div>

        <!-- Content -->
        <div class="relative z-10 text-center px-4 lg:px-12 xl:px-20 max-w-3xl mx-auto" data-aos="fade-up">
            <p
                class="text-gray-800 tracking-[0.2em] md:tracking-[0.3em] uppercase text-xs md:text-sm mb-3 md:mb-4 font-semibold">
                The Wedding Of</p>

            <h1
                class="font-serif text-4xl sm:text-5xl md:text-6xl lg:text-7xl text-gray-900 mb-2 leading-tight font-bold px-2">
                Mustahadi Agum
                <span
                    class="font-script text-wedding-gold mx-1 md:mx-2 text-3xl sm:text-4xl md:text-5xl lg:text-6xl">&amp;</span>
                <span class="block sm:inline mt-2 sm:mt-0">Tree Vagianti</span>
            </h1>

            <div class="flex items-center justify-center space-x-3 md:space-x-4 my-6 md:my-8">
                <div class="h-[1px] w-8 md:w-12 bg-wedding-gold"></div>
                <p class="text-base md:text-xl lg:text-2xl font-serif italic text-gray-800 font-semibold">December 21th,
                    2025</p>
                <div class="h-[1px] w-8 md:w-12 bg-wedding-gold"></div>
            </div>

            <p
                class="text-sm md:text-base lg:text-lg tracking-widest uppercase mb-8 md:mb-10 text-gray-800 font-semibold px-4">
                are you and 1 hotel</p>

            <a href="#story"
                class="group relative inline-block px-6 md:px-8 py-3 md:py-4 bg-transparent overflow-hidden rounded-full border-2 border-gray-800 hover:border-wedding-gold transition-colors duration-300">
                <div
                    class="absolute inset-0 w-0 bg-wedding-gold transition-all duration-[250ms] ease-out group-hover:w-full opacity-10">
                </div>
                <span
                    class="relative text-gray-900 group-hover:text-wedding-gold font-semibold tracking-widest uppercase transition-colors duration-300 text-sm md:text-base">Open
                    Invitation</span>
            </a>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-6 md:bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce">
            <i class="fas fa-chevron-down text-gray-800 opacity-70 text-lg md:text-xl"></i>
        </div>
    </section>

    <!-- Countdown Section -->
    <section class="py-12 md:py-16 bg-white">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <h2 class="font-serif text-2xl md:text-3xl lg:text-4xl mb-8 md:mb-10 text-wedding-text">Counting Down The
                Days</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 lg:gap-12" id="countdown">
                <div class="flex flex-col items-center">
                    <div id="cd-days" class="text-3xl md:text-5xl lg:text-6xl font-serif text-wedding-gold mb-2">00
                    </div>
                    <div class="text-xs uppercase tracking-widest text-gray-500">Days</div>
                </div>
                <div class="flex flex-col items-center">
                    <div id="cd-hours" class="text-3xl md:text-5xl lg:text-6xl font-serif text-wedding-gold mb-2">00
                    </div>
                    <div class="text-xs uppercase tracking-widest text-gray-500">Hours</div>
                </div>
                <div class="flex flex-col items-center">
                    <div id="cd-minutes" class="text-3xl md:text-5xl lg:text-6xl font-serif text-wedding-gold mb-2">00
                    </div>
                    <div class="text-xs uppercase tracking-widest text-gray-500">Minutes</div>
                </div>
                <div class="flex flex-col items-center">
                    <div id="cd-seconds" class="text-3xl md:text-5xl lg:text-6xl font-serif text-wedding-gold mb-2">00
                    </div>
                    <div class="text-xs uppercase tracking-widest text-gray-500">Seconds</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Love Story Section -->
    <section id="story" class="py-16 md:py-20 bg-wedding-cream relative overflow-hidden">
        <!-- Decorative Background Elements -->
        <div class="absolute top-0 left-0 w-48 md:w-64 h-48 md:h-64 opacity-10 pointer-events-none">
            <img src="https://images.unsplash.com/photo-1587575494201-11fe74d90d38?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60"
                class="w-full h-full object-cover rounded-br-full">
        </div>

        <div class="max-w-5xl mx-auto px-4 relative z-10">
            <div class="text-center mb-12 md:mb-16">
                <span class="text-wedding-gold font-script text-2xl md:text-3xl block mb-2">Our Journey</span>
                <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl text-wedding-text">Love Story</h2>
            </div>

            <div class="relative timeline-line">
                <!-- Story items unchanged (static content) -->
                <!-- Story Item 1 -->
                <div class="relative z-10 mb-12 md:mb-16 lg:mb-24">
                    <div class="flex flex-col md:flex-row items-center md:items-start">
                        <div class="md:w-1/2 md:pr-12 md:text-right mb-6 md:mb-0 order-2 md:order-1">
                            <h3 class="font-serif text-xl md:text-2xl text-wedding-text mb-2">First Meeting</h3>
                            <span class="text-wedding-gold font-medium block mb-3 md:mb-4 text-sm md:text-base">January 1,
                                2021</span>
                            <!-- <p class="text-gray-600 leading-relaxed text-sm md:text-base">We met at Holland Bakery</p> -->
                        </div>
                        <div
                            class="md:w-1/2 md:pl-12 order-1 md:order-2 flex justify-center md:justify-start mb-6 md:mb-0">
                            <div
                                class="w-32 h-32 md:w-40 lg:w-48 md:h-40 lg:h-48 rounded-full border-4 border-white shadow-xl overflow-hidden relative">
                                <img src="https://drive.google.com/thumbnail?id=1xnLQJJTbJ6tLHHt3iA02E72oklgUFnMk&sz=w2000"
                                    class="w-full h-full object-cover">
                            </div>
                        </div>
                        <!-- Center Dot -->
                        <div
                            class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-wedding-gold rounded-full border-4 border-white shadow hidden md:block">
                        </div>
                    </div>
                </div>

                <!-- Story Item 2 -->
                <div class="relative z-10 mb-12 md:mb-16 lg:mb-24">
                    <div class="flex flex-col md:flex-row items-center md:items-start">
                        <div class="md:w-1/2 md:pr-12 flex justify-center md:justify-end mb-6 md:mb-0 order-1">
                            <div
                                class="w-32 h-32 md:w-40 lg:w-48 md:h-40 lg:h-48 rounded-full border-4 border-white shadow-xl overflow-hidden relative">
                                <img src="https://drive.google.com/thumbnail?id=1cjrNeASrOoO0nT4mnGu7K3Pyo0La3ng-&sz=w2000"
                                    class="w-full h-full object-cover">
                            </div>
                        </div>
                        <div class="md:w-1/2 md:pl-12 mb-6 md:mb-0 order-2">
                            <h3 class="font-serif text-xl md:text-2xl text-wedding-text mb-2">First Date</h3>
                            <span class="text-wedding-gold font-medium block mb-3 md:mb-4 text-sm md:text-base">January
                                16, 2021</span>
                            <!-- <p class="text-gray-600 leading-relaxed text-sm md:text-base">Our first official date was a walk in the botanical gardens followed by dinner under the stars.</p> -->
                        </div>
                        <!-- Center Dot -->
                        <div
                            class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-wedding-gold rounded-full border-4 border-white shadow hidden md:block">
                        </div>
                    </div>
                </div>

                <!-- Story Item 3 -->
                <div class="relative z-10">
                    <div class="flex flex-col md:flex-row items-center md:items-start">
                        <div class="md:w-1/2 md:pr-12 md:text-right mb-6 md:mb-0 order-2 md:order-1">
                            <h3 class="font-serif text-xl md:text-2xl text-wedding-text mb-2">The Proposal</h3>
                            <span class="text-wedding-gold font-medium block mb-3 md:mb-4 text-sm md:text-base">December
                                21, 2025</span>
                            <!-- <p class="text-gray-600 leading-relaxed text-sm md:text-base">On a snowy Christmas Eve, surrounded by family, James got down on one knee and asked the big question.</p> -->
                        </div>
                        <div
                            class="md:w-1/2 md:pl-12 order-1 md:order-2 flex justify-center md:justify-start mb-6 md:mb-0">
                            <div
                                class="w-32 h-32 md:w-40 lg:w-48 md:h-40 lg:h-48 rounded-full border-4 border-white shadow-xl overflow-hidden relative">
                                <img src="https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60"
                                    class="w-full h-full object-cover">
                            </div>
                        </div>
                        <!-- Center Dot -->
                        <div
                            class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-wedding-gold rounded-full border-4 border-white shadow hidden md:block">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Event Details Section -->
    <section id="details" class="py-16 md:py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12 md:mb-16">
                <span class="text-wedding-gold font-script text-2xl md:text-3xl block mb-2">The Big Day</span>
                <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl text-wedding-text">Event Details</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                <!-- Ceremony Card -->
                <div
                    class="glass-card p-6 md:p-8 rounded-2xl text-center shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100">
                    <div
                        class="w-14 h-14 md:w-16 md:h-16 bg-wedding-blush rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 text-wedding-gold">
                        <i class="fas fa-church text-xl md:text-2xl"></i>
                    </div>
                    <h3 class="font-serif text-xl md:text-2xl mb-2">The Ceremony</h3>
                    <p class="text-wedding-gold font-medium mb-3 md:mb-4 text-sm md:text-base">17:00 - 21:00</p>
                    <p class="text-gray-600 mb-4 md:mb-6 text-sm md:text-base">are you and 1 hotel<br>
                        Jl. Bojong Koneng Atas Jl. Pager Sari, Cibeunying, Kec. Cimenyan, Kabupaten Bandung, Jawa Barat
                        40191</p>
                    <div class="border-t border-gray-100 pt-4">
                        <a href="https://maps.app.goo.gl/V8bVXCpSMF7FVtG29" target="_blank"
                            class="text-wedding-gold text-xs md:text-sm hover:underline flex items-center justify-center gap-2">
                            <i class="fas fa-map-marker-alt"></i> View Map
                        </a>
                    </div>
                </div>

                <!-- Reception Card -->
                <div
                    class="glass-card p-6 md:p-8 rounded-2xl text-center shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100 transform md:-translate-y-4">
                    <div
                        class="w-14 h-14 md:w-16 md:h-16 bg-wedding-blush rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 text-wedding-gold">
                        <i class="fas fa-glass-cheers text-xl md:text-2xl"></i>
                    </div>
                    <h3 class="font-serif text-xl md:text-2xl mb-2">The Reception</h3>
                    <p class="text-wedding-gold font-medium mb-3 md:mb-4 text-sm md:text-base">16:00 - 17:00</p>
                    <p class="text-gray-600 mb-4 md:mb-6 text-sm md:text-base">are you and 1 hotel<br>
                        Jl. Bojong Koneng Atas Jl. Pager Sari, Cibeunying, Kec. Cimenyan, Kabupaten Bandung, Jawa Barat
                        40191</p>
                    <div class="border-t border-gray-100 pt-4">
                        <a href="https://maps.app.goo.gl/V8bVXCpSMF7FVtG29" target="_blank"
                            class="text-wedding-gold text-xs md:text-sm hover:underline flex items-center justify-center gap-2">
                            <i class="fas fa-map-marker-alt"></i> View Map
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="py-16 md:py-20 bg-wedding-cream">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12 md:mb-16">
                <span class="text-wedding-gold font-script text-2xl md:text-3xl block mb-2">Captured Moments</span>
                <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl text-wedding-text">Our Gallery</h2>
            </div>
    
            <!-- Scrollable container -->
            <div id="galleryScroll" class="max-h-[1200px] overflow-y-auto pr-2">
    
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 gallery-grid">
                    <!-- Image 1 -->
                    <div class="col-span-2 row-span-2 relative group overflow-hidden rounded-xl cursor-pointer gallery-item hidden"
                        onclick="openLightbox('https://i.redd.it/lqejacvbpai71.png')">
                        <img src="https://i.redd.it/lqejacvbpai71.png"
                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div
                            class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                            <i class="fas fa-search-plus text-white text-2xl md:text-3xl"></i>
                        </div>
                    </div>
                </div>
    
            </div>
        </div>
    </section>    

    <!-- Guestbook Section -->
    <section id="guestbook" class="py-16 md:py-20 bg-white">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center mb-12 md:mb-16">
                <span class="text-wedding-gold font-script text-2xl md:text-3xl block mb-2">Wishes &amp;
                    Blessings</span>
                <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl text-wedding-text">Guestbook</h2>
            </div>

            <!-- Guestbook Form (Shows when button clicked, hides messages) -->
            <div id="guestbook-form" class="max-w-2xl mx-auto bg-wedding-cream p-6 md:p-8 rounded-2xl shadow-md hidden">
                <h3 class="font-serif text-xl md:text-2xl text-wedding-text mb-4 md:mb-6 text-center">Leave Your Wishes
                </h3>
                <form id="guestbook-form-el" onsubmit="submitGuestbookMessage(event)">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                            <input type="text" name="guestName" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-wedding-gold focus:border-wedding-gold outline-none transition-colors text-sm md:text-base"
                                placeholder="John &amp; Jane Doe">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Your Message</label>
                            <textarea name="guestMessage" rows="4" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-wedding-gold focus:border-wedding-gold outline-none transition-colors text-sm md:text-base"
                                placeholder="Write your wishes for the couple..."></textarea>
                        </div>
                        <div class="flex flex-col sm:flex-row gap-3 md:gap-4">
                            <button type="submit"
                                class="flex-1 bg-wedding-gold text-white py-3 rounded-full hover:bg-yellow-600 transition-colors shadow-md uppercase tracking-widest text-xs md:text-sm font-medium submit-button-guestbook-messages">
                                Submit Message
                            </button>
                            <button type="button" onclick="showGuestbookForm(false)"
                                class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-full hover:bg-gray-300 transition-colors uppercase tracking-widest text-xs md:text-sm font-medium">
                                Cancel
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Messages Grid (Shows when form is hidden) -->
            <div id="guestbook-messages">
                <div id="guestbook-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 
                        max-h-[500px] overflow-y-auto scroll-smooth">
                </div>
                <div class="text-center mt-8 md:mt-10">
                    <button
                        onclick="(function(){ showGuestbookForm(true); setTimeout(()=>{ document.getElementById('guestbook').scrollIntoView({ behavior: 'smooth', block: 'start' }); },50); })()"
                        class="text-wedding-gold border-b-2 border-wedding-gold pb-1 hover:text-yellow-600 hover:border-yellow-600 transition-colors font-medium text-sm md:text-base">
                        Write a Wish
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section id="rsvp" class="py-16 md:py-20 bg-wedding-cream">
        <div class="max-w-3xl mx-auto px-4">
            <div class="text-center mb-10 md:mb-12">
                <span class="text-wedding-gold font-script text-2xl md:text-3xl block mb-2">Join Us</span>
                <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl text-wedding-text mb-3 md:mb-4">RSVP</h2>
            </div>

            <div id="rsvp-success" class="bg-white p-8 md:p-10 rounded-2xl shadow-lg text-center mb-8 hidden">
                <div
                    class="w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 text-green-500">
                    <i class="fas fa-check text-2xl md:text-3xl"></i>
                </div>
                <h3 class="font-serif text-2xl md:text-3xl text-wedding-text mb-3 md:mb-4">Thank You!</h3>
                <p class="text-gray-600 mb-4 md:mb-6 text-sm md:text-base">Your RSVP has been received. We can't wait to
                    celebrate with you!</p>
            </div>

            <div id="rsvp-form-wrap" class="bg-white p-6 md:p-8 lg:p-12 rounded-2xl shadow-lg">
                <form id="rsvp-form" onsubmit="handleRsvpSubmit(event)">
                    <div class="space-y-5 md:space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                            <input id="rsvp-name" type="text" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-wedding-gold focus:border-wedding-gold outline-none transition-colors text-sm md:text-base"
                                placeholder="John Doe" name="rsvp-name">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input id="rsvp-email" type="email" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-wedding-gold focus:border-wedding-gold outline-none transition-colors text-sm md:text-base"
                                placeholder="john@example.com" name="email">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-3">Will you be attending?</label>
                            <div class="space-y-3">
                                <label
                                    class="radio-label flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all">
                                    <input type="radio" name="attendance" value="accept" class="radio-custom mr-3" onclick="toggleAcceptedAttendanceForm(this)"
                                        required>
                                    <div class="flex items-center">
                                        <i class="fas fa-heart text-wedding-gold mr-3 text-lg"></i>
                                        <span class="text-gray-700 font-medium text-sm md:text-base">Joyfully
                                            Accepts</span>
                                    </div>
                                </label>
                                <label
                                    class="radio-label flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all">
                                    <input type="radio" name="attendance" value="decline" class="radio-custom mr-3" onclick="toggleAcceptedAttendanceForm(this)"
                                        required>
                                    <div class="flex items-center">
                                        <i class="fas fa-heart-broken text-gray-400 mr-3 text-lg"></i>
                                        <span class="text-gray-700 font-medium text-sm md:text-base">Regretfully
                                            Declines</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-5 md:gap-6 accepted-attendance-form hidden">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Number of Guests</label>
                                <select name="guest-numbers" id="rsvp-guests" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-wedding-gold focus:border-wedding-gold outline-none transition-colors text-sm md:text-base">
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit"
                            class="w-full bg-wedding-gold text-white py-3 md:py-4 rounded-full hover:bg-yellow-600 transition-colors shadow-md uppercase tracking-widest text-xs md:text-sm font-semibold mt-4">
                            Confirm Attendance
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Gift Registry -->
    <section id="registry" class="py-16 md:py-20 bg-white">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <span class="text-wedding-gold font-script text-2xl md:text-3xl block mb-2">Wedding Gift</span>
            <h2 class="font-serif text-3xl md:text-4xl lg:text-5xl text-wedding-text mb-6 md:mb-8">Gift Registry</h2>
            <p class="text-gray-600 mb-10 md:mb-12 max-w-2xl mx-auto text-sm md:text-base">Your presence at our wedding
                is the greatest gift of all. However, if you wish to honor us with a gift, a monetary contribution
                towards our future home would be deeply appreciated.</p>

            <div class="grid grid-cols-1 md:grid-cols-1 gap-6 md:gap-8">
                <div class="bg-wedding-cream p-6 md:p-8 rounded-2xl shadow-md border border-gray-100">
                    <div class="text-wedding-gold text-3xl md:text-4xl mb-4"><i class="fas fa-university"></i></div>
                    <h3 class="font-serif text-lg md:text-xl mb-3 md:mb-4">Bank Transfer</h3>
                    <p class="text-gray-500 mb-2 text-sm md:text-base">Bank Central Asia (BCA)</p>
                    <p class="font-mono text-base md:text-lg text-gray-800 mb-2 account-number">7750975806</p>
                    <p class="text-gray-500 text-sm md:text-base">Tree Vagianti</p>
                    <button class="mt-4 text-xs uppercase tracking-widest text-wedding-gold hover:text-yellow-600"
                        onclick="copyAccountNumber(this)">Copy Number</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-wedding-text text-white py-12 md:py-16">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="font-script text-4xl md:text-5xl lg:text-6xl mb-4 md:mb-6 text-wedding-gold">Mustahadi Agum &amp;
                Tree Vagianti</h2>
            <p class="uppercase tracking-widest text-xs md:text-sm opacity-70 mb-6 md:mb-8">Thank you for being part of
                our story</p>
            <div class="flex justify-center space-x-6 mb-8 md:mb-10">
                <!-- <a href="#" class="w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white/10 transition-colors"><i class="fab fa-instagram"></i></a>
              <a href="#" class="w-10 h-10 rounded-full border border-white/20 flex items-center justify-center hover:bg-white/10 transition-colors"><i class="fab fa-facebook-f"></i></a> -->
            </div>
            <p class="text-xs text-gray-500">© 2025</p>
        </div>
    </footer>

    <!-- Floating Music Control -->
    <div class="fixed bottom-4 right-4 md:bottom-6 md:right-6 z-40">
        <button id="music-btn" onclick="toggleMusic()"
            class="w-12 h-12 bg-white/90 backdrop-blur shadow-lg rounded-full flex items-center justify-center text-wedding-gold hover:scale-110 transition-transform duration-300 border border-wedding-gold/20">
            <i id="music-icon" class="fas fa-music"></i>
        </button>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4 hidden"
        onclick="closeLightbox()">
        <button onclick="closeLightbox(); event.stopPropagation();"
            class="absolute top-4 right-4 md:top-6 md:right-6 text-white/70 hover:text-white text-3xl md:text-4xl focus:outline-none z-10">
            <i class="fas fa-times"></i>
        </button>
        <img id="lightbox-img" src="" class="max-h-[90vh] max-w-full rounded shadow-2xl" alt="">
    </div>

    <!-- SCRIPT: All vanilla JS to replace Alpine -->
</body>

<script type="module">
    var firstInit = true
    var bgmStarted = false;
    const bgm = new Audio("bgm.mp3")

    let audioStarted = false;

    console.log("AKU BUKAN FRONTEND AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA")

    function toggleAcceptedAttendanceForm() {
        var formElement = document.querySelector('.accepted-attendance-form')

        if (formElement.classList.contains('hidden')) {
            return formElement.classList.remove('hidden');   
        }

        formElement.classList.add('hidden')
    }
    
    document.addEventListener('DOMContentLoaded', function () {
        // state
        const state = {
            mobileMenuOpen: false,
            musicPlaying: false,
            rsvpSuccess: false,
            lightboxOpen: false,
            currentImage: '',
            showGuestbookForm: false,
            guestbookMessages: []
        };

        // Listen for ANY user interaction
        document.addEventListener('click', startAudio, { once: true });
        document.addEventListener('keydown', startAudio, { once: true });
        document.addEventListener('touchend', startAudio, { once: true });

        function startAudio() {
            if (!audioStarted) {
                audioStarted = true;
                bgm.play();

                state.musicPlaying = true
                const icon = document.getElementById('music-icon');
                icon.classList.remove('fa-music'); 
                icon.classList.add('fa-pause'); 
            }
        }

        // document.addEventListener("click", function () {
        //     state.musicPlaying = true
        //     bgm.loop = true
        //     bgm.play()
        // });

        // Mobile menu
        window.toggleMobileMenu = function () {
            state.mobileMenuOpen = !state.mobileMenuOpen;
            const menu = document.getElementById('mobile-menu');
            if (state.mobileMenuOpen) menu.classList.remove('hidden'); else menu.classList.add('hidden');
        }

        // Music
        window.toggleMusic = function () {
            state.musicPlaying = !state.musicPlaying;
            const icon = document.getElementById('music-icon');
            if (state.musicPlaying) { 
                icon.classList.remove('fa-music'); icon.classList.add('fa-pause'); 
                bgm.play();
            }
            else { 
                icon.classList.remove('fa-pause'); icon.classList.add('fa-music'); 
                bgm.pause();
            }
        }

        // Lightbox
        window.openLightbox = function (src) {
            state.currentImage = src;
            state.lightboxOpen = true;
            const modal = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            img.src = src;
            modal.classList.remove('hidden');
        }
        window.closeLightbox = function () {
            state.lightboxOpen = false;
            const modal = document.getElementById('lightbox');
            modal.classList.add('hidden');
        }

        // Guestbook render
        async function renderGuestbookMessages() {
            const list = document.getElementById('guestbook-list');
            list.innerHTML = '';
            state.guestbookMessages = (await readData("692ec1e143b1c97be9d28d20")).datas;
            state.guestbookMessages.forEach((msg) => {
                const card = document.createElement('div');
                card.className = 'bg-wedding-cream p-5 md:p-6 rounded-2xl shadow-sm relative';
                card.innerHTML = `
            <div class="absolute -top-3 -left-3 text-wedding-gold opacity-20">
                <i class="fas fa-quote-left text-4xl md:text-6xl"></i>
            </div>
            <p class="text-gray-600 italic mb-4 md:mb-6 relative z-10 text-sm md:text-base">${escapeHtml(msg.message)}</p>
            <div class="flex items-center">
                <div class="w-8 h-8 md:w-10 md:h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 mr-3 flex-shrink-0">
                <i class="fas fa-user text-xs md:text-sm"></i>
                </div>
                <div>
                <h4 class="font-serif font-semibold text-wedding-text text-sm md:text-base">${escapeHtml(msg.name)}</h4>
                <span class="text-xs text-gray-400">${escapeHtml(new Date(msg.time).toLocaleString('en-us', {
                    year: "numeric",
                    month: "2-digit",
                    day: "2-digit",
                    hour: "2-digit",
                    minute: "2-digit",
                }))}</span>
                </div>
            </div>
            `;
                list.appendChild(card);
            });
        }

        // const scrollBox = document.querySelector('#gallery .overflow-y-auto');

        // scrollBox.addEventListener('wheel', function (e) {
        //     const atTop = scrollBox.scrollTop === 0;
        //     const atBottom = Math.abs(
        //         galleryScroll.scrollHeight - galleryScroll.scrollTop - galleryScroll.clientHeight
        //     ) < 2;

        //     // If user scrolls up at top → allow page scroll
        //     if (atTop && e.deltaY < 0) {
        //         e.preventDefault();
        //         window.scrollBy(0, e.deltaY);
        //     }

        //     // If user scrolls down at bottom → allow page scroll
        //     else if (atBottom && e.deltaY > 0) {
        //         e.preventDefault();
        //         window.scrollBy(0, e.deltaY);
        //     }
        // });

        // show/hide guestbook form
        window.showGuestbookForm = function (show) {
            state.showGuestbookForm = !!show;
            const form = document.getElementById('guestbook-form');
            const messages = document.getElementById('guestbook-messages');
            if (state.showGuestbookForm) { form.classList.remove('hidden'); messages.classList.add('hidden'); }
            else { form.classList.add('hidden'); messages.classList.remove('hidden'); }
        }

        // submit guestbook
        window.submitGuestbookMessage = async function (event) {
            event.preventDefault();
            const form = event.target;
            const fd = new FormData(form);
            const name = fd.get('guestName');
            const message = fd.get('guestMessage');
            if (!name || !message) return;
            state.guestbookMessages.unshift({ name: name, message: message, time: Date.now() });

            const button = document.querySelector('.submit-button-guestbook-messages');
            button.textContent = "Submiting...";

            await saveData("692ec1e143b1c97be9d28d20", {
                "datas": state.guestbookMessages
            })

            button.textContent = "Submit Message";

            form.reset();
            showGuestbookForm(false);
            renderGuestbookMessages();
        }

        // initial render guestbook
        renderGuestbookMessages();

        // RSVP handling
        window.handleRsvpSubmit = async function (e) {
            e.preventDefault();
            const form = event.target;
            const fd = new FormData(form);
            const name = fd.get('rsvp-name');
            const email = fd.get('email');
            const attendance = fd.get('attendance')
            const guestNumbers = fd.get('guest-numbers')
            
            await saveData("6933f4d9d0ea881f401667ea", {
                email: {
                    "name": name,
                    "email": email,
                    "attendance": attendance.toLowerCase() == "accept",
                    "guestNumbers": guestNumbers
                }
            })
            
            // you can collect values here if needed
            state.rsvpSuccess = true;
            document.getElementById('rsvp-success').classList.remove('hidden');
            document.getElementById('rsvp-form-wrap').classList.add('hidden');
        }

        // Countdown timer
        function startCountdown() {
            const daysEl = document.getElementById('cd-days');
            const hoursEl = document.getElementById('cd-hours');
            const minutesEl = document.getElementById('cd-minutes');
            const secondsEl = document.getElementById('cd-seconds');
            // update wedding date if needed
            const weddingDate = new Date('December 21, 2025 17:00:00').getTime();
            function update() {
                const now = Date.now();
                const distance = weddingDate - now;
                if (distance < 0) { clearInterval(timer); daysEl.textContent = '0'; hoursEl.textContent = '0'; minutesEl.textContent = '0'; secondsEl.textContent = '0'; return; }
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                daysEl.textContent = days;
                hoursEl.textContent = hours.toString().padStart(2, '0');
                minutesEl.textContent = minutes.toString().padStart(2, '0');
                secondsEl.textContent = seconds.toString().padStart(2, '0');
            }
            update();
            const timer = setInterval(update, 1000);
        };

        function loadGallery() {
            const galleryGrid = document.querySelector('.gallery-grid');
            const galleryItem = galleryGrid.querySelector('.gallery-item');

            fetch("gallery.json")
                .then(response => response.json())
                .then(items => {
                    items['data'].forEach(item => {
                        const galleryItemCloned = galleryItem.cloneNode(true);
                        galleryItemCloned.classList.remove('hidden')
                        galleryGrid.appendChild(galleryItemCloned);

                        galleryItemCloned.setAttribute('data-src', item['src']);
                        galleryItemCloned.querySelector('img').setAttribute('src', item['src']);
                        galleryItemCloned.setAttribute('onclick', "openLightbox('" + item['src'] + "')");
                    })
                })
        }

        function init() {
            startCountdown();
            loadGallery()
        }

        init()

        // simple HTML escape to avoid injection
        function escapeHtml(text) {
            const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
            return String(text).replace(/[&<>"']/g, function (m) { return map[m]; });
        }

    });

    // Read data (anyone can read)
    async function readData(binID) {
        const response = await fetch(`https://api.jsonbin.io/v3/b/${binID}/latest`, {
            headers: {
                'X-Master-Key': "$2a$10$AC9hA7JpCV9rp1/y6lGRDOMhahFjt8mit7Kd0ApB1XTLUINQ2AeWW",
                'X-Access-Key': "$2a$10$SmCIxHIU7wnRxjWK18Xbruzi0e7JewkJzVyLi4WAqwoJqzvSv5bTq"
            }
        });
        return (await response.json()).record;
    }

    async function saveData(binID, data) {
        await fetch(`https://api.jsonbin.io/v3/b/${binID}`, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
                'X-Master-Key': "$2a$10$AC9hA7JpCV9rp1/y6lGRDOMhahFjt8mit7Kd0ApB1XTLUINQ2AeWW",
                'X-Access-Key': "$2a$10$SmCIxHIU7wnRxjWK18Xbruzi0e7JewkJzVyLi4WAqwoJqzvSv5bTq"
            },
            body: JSON.stringify(data)
        });
    }
    // submit-button-guestbook-messages

    function copyAccountNumber(button) {
        const accountNumberElement = document.querySelector('.account-number');
        navigator.clipboard.writeText(accountNumberElement.innerHTML)
            .then(() => {
                button.textContent = "Copied!";
                setTimeout(() => {
                    button.textContent = "Copy Number";
                }, 1500);
            });
    }
</script>

<script>
    function toggleAcceptedAttendanceForm(btn) {
        var formElement = document.querySelector('.accepted-attendance-form')

        if (btn.value == "accept") {
            return formElement.classList.remove('hidden');   
        }

        formElement.classList.add('hidden')
    }
</script>

</html>